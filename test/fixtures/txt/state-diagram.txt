@startuml
!theme superhero-outline

skinparam defaultFontSize 12
[*] --> 待支付 : 创建订单

待支付 --> 已支付 : 支付成功
待支付 --> 已取消 : 用户取消
待支付 --> 已取消 : 超时取消

已支付 --> 已发货 : 商家发货
已支付 --> 退款中 : 申请退款

已发货 --> 已收货 : 用户确认收货
已发货 --> 退款中 : 申请退货

已收货 --> 已完成 : 确认完成
已收货 --> 退款中 : 申请退款

退款中 --> 已退款 : 退款成功
退款中 --> 已支付 : 退款失败

已取消 --> [*]
已完成 --> [*]
已退款 --> [*]

note right of 待支付
  订单创建后24小时内
  未支付自动取消
end note

note right of 已发货
  发货后7天内
  可申请退货
end note

@enduml

