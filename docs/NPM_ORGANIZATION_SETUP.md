# npm ç»„ç»‡è®¾ç½®æŒ‡å—

## ğŸ“‹ é—®é¢˜è¯´æ˜

å‘å¸ƒ runtime åŒ… `@node-plantuml-2/jre-*` éœ€è¦åœ¨ npm ä¸Šåˆ›å»ºç»„ç»‡ä½œç”¨åŸŸ `@node-plantuml-2`ã€‚

## âœ… è§£å†³æ–¹æ¡ˆ 1ï¼šåˆ›å»º npm ç»„ç»‡ï¼ˆæ¨èï¼‰

### æ­¥éª¤ 1ï¼šåˆ›å»ºç»„ç»‡

1. **è®¿é—® npm ç½‘ç«™åˆ›å»ºç»„ç»‡**ï¼š
   - æ‰“å¼€ï¼šhttps://www.npmjs.com/org/create
   - ç»„ç»‡åç§°ï¼š`node-plantuml-2`
   - é€‰æ‹© **Public**ï¼ˆå…è´¹ï¼Œé€‚åˆå…¬å¼€åŒ…ï¼‰
   - ç‚¹å‡»åˆ›å»º

2. **æˆ–è€…ä½¿ç”¨å‘½ä»¤è¡Œ**ï¼š
   ```bash
   npm org create node-plantuml-2
   ```

### æ­¥éª¤ 2ï¼šç¡®ä¿è´¦æˆ·æƒé™

ç¡®ä¿æ‚¨çš„ npm è´¦æˆ·æ˜¯ç»„ç»‡çš„æ‰€æœ‰è€…ï¼ˆownerï¼‰ï¼Œè¿™æ ·æ‰æœ‰æƒé™å‘å¸ƒåŒ…ã€‚

### æ­¥éª¤ 3ï¼šéªŒè¯ç»„ç»‡

```bash
npm org ls node-plantuml-2
```

åº”è¯¥èƒ½çœ‹åˆ°ç»„ç»‡ä¿¡æ¯ã€‚

### æ­¥éª¤ 4ï¼šéªŒè¯ NPM_TOKEN

ç¡®ä¿æ‚¨çš„ `NPM_TOKEN`ï¼ˆGitHub Actions secretï¼‰æœ‰æƒé™å‘å¸ƒåˆ°è¯¥ç»„ç»‡ï¼š
- Token å¿…é¡»æ˜¯ **Automation** ç±»å‹
- Token å¿…é¡»å±äºç»„ç»‡çš„æ‰€æœ‰è€…è´¦æˆ·
- Token å¿…é¡»æœ‰ **Read and Publish** æƒé™

### æ­¥éª¤ 5ï¼šæµ‹è¯•å‘å¸ƒ

åœ¨ GitHub Actions ä¸­é‡æ–°è¿è¡Œå·¥ä½œæµï¼Œruntime åŒ…åº”è¯¥èƒ½å¤ŸæˆåŠŸå‘å¸ƒã€‚

## ğŸ”„ è§£å†³æ–¹æ¡ˆ 2ï¼šä¸ä½¿ç”¨ä½œç”¨åŸŸï¼ˆå¤‡é€‰ï¼‰

å¦‚æœä¸å¸Œæœ›åˆ›å»º npm ç»„ç»‡ï¼Œå¯ä»¥ä¿®æ”¹åŒ…åç­–ç•¥ï¼Œä½¿ç”¨ç®€å•åŒ…åï¼š

### åŒ…åæ ¼å¼

- `node-plantuml-2-jre-linux-x64`
- `node-plantuml-2-jre-win32-x64`
- `node-plantuml-2-jre-darwin-x64`
- `node-plantuml-2-jre-darwin-arm64`

### éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶

1. **`package.json`** - æ›´æ–° `optionalDependencies`
2. **`scripts/create-runtime-package-json.js`** - ä¿®æ”¹åŒ…åç”Ÿæˆé€»è¾‘
3. **`lib/java-resolver.js`** - ä¿®æ”¹åŒ…åè§£æé€»è¾‘
4. **`.github/workflows/publish.yml`** - æ›´æ–°çŸ©é˜µä¸­çš„åŒ…å

**æ³¨æ„**ï¼šæ­¤æ–¹æ¡ˆä¸éœ€è¦åˆ›å»ºç»„ç»‡ï¼Œä½†åŒ…åè¾ƒé•¿ï¼Œä¸å¦‚ä½œç”¨åŸŸåŒ…åæ¸…æ™°ã€‚

## ğŸ“ æ¨è

**å»ºè®®ä½¿ç”¨è§£å†³æ–¹æ¡ˆ 1ï¼ˆåˆ›å»ºç»„ç»‡ï¼‰**ï¼Œå› ä¸ºï¼š
- âœ… åŒ…åæ›´æ¸…æ™°ï¼š`@node-plantuml-2/jre-linux-x64`
- âœ… æ›´å¥½çš„ç»„ç»‡æ€§ï¼šæ‰€æœ‰ç›¸å…³åŒ…éƒ½åœ¨åŒä¸€ä½œç”¨åŸŸä¸‹
- âœ… ç¬¦åˆ npm æœ€ä½³å®è·µ
- âœ… å…è´¹ï¼ˆå…¬å¼€ç»„ç»‡ï¼‰

## ğŸš€ åˆ›å»ºç»„ç»‡åçš„ä¸‹ä¸€æ­¥

1. ç»„ç»‡åˆ›å»ºæˆåŠŸåï¼Œé‡æ–°è¿è¡Œ GitHub Actions å·¥ä½œæµ
2. Runtime åŒ…å°†è‡ªåŠ¨å‘å¸ƒåˆ° `@node-plantuml-2` ç»„ç»‡
3. ä¸»åŒ… `node-plantuml-2` çš„ `optionalDependencies` ä¼šè‡ªåŠ¨å¼•ç”¨è¿™äº›åŒ…

## â“ å¸¸è§é—®é¢˜

### Q: åˆ›å»ºç»„ç»‡éœ€è¦ä»˜è´¹å—ï¼Ÿ

A: å…¬å¼€ç»„ç»‡æ˜¯å…è´¹çš„ã€‚ç§æœ‰ç»„ç»‡éœ€è¦ä»˜è´¹ã€‚

### Q: æˆ‘å·²ç»æœ‰ä¸€ä¸ªåŒ…å« `node-plantuml-2`ï¼Œä¼šå½±å“å—ï¼Ÿ

A: ä¸ä¼šã€‚åŒ…å `node-plantuml-2` å’Œç»„ç»‡ä½œç”¨åŸŸ `@node-plantuml-2` æ˜¯ä¸åŒçš„æ¦‚å¿µã€‚æ‚¨å¯ä»¥åŒæ—¶æ‹¥æœ‰ï¼š
- æ— ä½œç”¨åŸŸåŒ…ï¼š`node-plantuml-2`
- ä½œç”¨åŸŸåŒ…ï¼š`@node-plantuml-2/jre-linux-x64`

### Q: å¦‚ä½•æ£€æŸ¥ç»„ç»‡æ˜¯å¦åˆ›å»ºæˆåŠŸï¼Ÿ

A: è®¿é—®ï¼šhttps://www.npmjs.com/~node-plantuml-2 æˆ–åœ¨å‘½ä»¤è¡Œè¿è¡Œï¼š
```bash
npm view @node-plantuml-2/jre-linux-x64
```
å¦‚æœè¿”å› 404ï¼Œè¯´æ˜ç»„ç»‡è¿˜æœªåˆ›å»ºæˆ–åŒ…è¿˜æœªå‘å¸ƒã€‚

